<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŽ¯</text></svg>" />
    <title>Sketch 03: Circular Death</title>

    <link rel="stylesheet" href="/globals/style.css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.0/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
    <script src="/globals/utils.js"></script>
</head>
<body>
    <script>

        let centerX, centerY
        let radius = { value: 30 }
        let angle = 0

        function setup() {

            // initialize canvas
            createCanvas(600, 600)
            background(255)

            centerX = width / 2
            centerY = height / 2

            gsap.fromTo(radius, { value: 0 }, {
                value: 30,
                duration: 0.25,
                ease: Expo.easeInOut,
                yoyo: true,
                repeat: -1
            })

        }

        function draw() {

            background("rgba(255, 255, 255, 0.1)")

            angle += 1

            fill(0)

            const x1 = (centerX) + radius.value * cos(-angle * PI / 180) * 5
            const y1 = (centerY) + radius.value * sin(-angle * PI / 180) * 5

            const x2 = (centerX) - (x1 - (centerX))
            const y2 = (centerY) - (y1 - (centerY))

            circle(x1, y1, 5)
            circle(x2, y2, 5)

            // line(x1, y1, x2, y2)

        }


        function mouseClicked() {
            saveCanvas("sketch_03", "jpg")
        }

    </script>
</body>
</html>