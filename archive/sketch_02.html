<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <link
            rel="icon"
            href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŽ¯</text></svg>"
        />
        <title>Sketch 02: Drawn Lines</title>

        <link rel="stylesheet" href="/globals/style.css" />

        <script src="https://cdnjs.cloudflare.com/ajax/libs/rough.js/2.1.1/rough.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
        <script src="/globals/utils.js"></script>
    </head>
    <body>
        <script>
            let points = [];
            let rc;

            function setup() {
                // initialize canvas
                createCanvas(600, 600);
                background(255);

                // initialize rough.js
                rc = rough.canvas(document.querySelector("canvas"));

                // initialize points
                for (let i = 0; i < 3; i++) {
                    points.push({
                        x: random(width),
                        y: random(height),
                        dirX: random([-1, 1]),
                        dirY: random([-1, 1]),
                    });
                }

                for (const i in range(400)) {
                    for (const point of points) {
                        point.x += point.dirX * 1.5;
                        point.y += point.dirY * 1.5;

                        if (point.x < 0 || point.x > width) {
                            point.dirX *= -1;
                        }

                        if (point.y < 0 || point.y > height) {
                            point.dirY *= -1;
                        }
                    }

                    for (const point1 of points) {
                        for (const point2 of points) {
                            if (point1 !== point2) {
                                rc.line(
                                    point1.x,
                                    point1.y,
                                    point2.x,
                                    point2.y,
                                    {
                                        stroke: `rgba(0, 0, 0, 0.1)`,
                                        roughness: 5,
                                        // strokeWeight: random(1, 3),
                                        // roughness: random(0.5, 1),
                                    }
                                );
                            }
                        }
                    }
                }
            }

            // p5.js new sketch
            function keyPressed() {
                if (keyCode == 32) {
                    setup();
                }
            }

            // function mouseClicked() {
            //     saveCanvas("sketch_02", "jpg")
            // }
        </script>
    </body>
</html>
